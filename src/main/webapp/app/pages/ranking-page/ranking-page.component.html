<div class="card" style="margin-bottom: 50px">
  <h5 style="padding-top: 10px" class="text-center">RANKING</h5>
  <p></p>
  <p-table
    #dt1
    [value]="rankings!"
    [rows]="10"
    [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25, 50]"
    styleClass="p-datatable-gridlines"
    [paginator]="true"
    [globalFilterFields]="['nombreJugador', 'nacionalidad']"
  >
    <ng-template pTemplate="caption" class="container">
      <div class="table-header row">
        <span class="col-2">TIPO DE RANKING:</span>
        <div name="editForm" [formGroup]="editForm" class="col-7">
          <select (change)="cambiarRanking(dt1)" id="field_filtro" data-cy="filtro" name="filtro" formControlName="filtro">
            <option [ngValue]="null"></option>
            <option
              [ngValue]="opciones.id === editForm.get('filtro')!.value?.id ? editForm.get('filtro')!.value : opciones"
              *ngFor="let opciones of opcionFiltroRanking"
            >
              {{ opciones.nombre }}
            </option>
          </select>
        </div>
        <div class="col">
          <span class="p-input-icon-right ml-auto">
            <i class="pi pi-search"></i>
            <input class="col" pInputText type="text" placeholder="Buscar" />
          </span>
        </div>
      </div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th>Posición</th>
        <th>Nombre</th>
        <th>Nacionalidad</th>
        <th>Total Canjes</th>
        <th>Apuestas ganadas</th>
        <th>Apuestas perdidas</th>
        <th>Record de créditos</th>
        <th>% de rendimiento</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-ranking>
      <tr>
        <td>{{ ranking.posicion }}</td>
        <td>
          <img
            src="https://res.cloudinary.com/dxg5n5trm/image/upload/v1658518036/vw1fjkusksdepkf0jh3z.png"
            width="32"
            style="vertical-align: middle"
          />
          {{ ranking.nombreJugador }}
        </td>
        <td>{{ ranking.nacionalidad }}</td>
        <td>{{ ranking.totalCanjes }}</td>
        <td>{{ ranking.totalGanadas }}</td>
        <td>{{ ranking.totalPerdidas }}</td>
        <td>{{ ranking.recordNeto }}</td>
        <td>{{ ranking.rendimiento }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<div class="card">
  <p-table [value]="rankingPersonalDatos!">
    <ng-template pTemplate="caption">
      <div class="table-header">Tu posición</div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th>Posición</th>
        <th>Nombre</th>
        <th>Nacionalidad</th>
        <th>Total Canjes</th>
        <th>Apuestas ganadas</th>
        <th>Apuestas perdidas</th>
        <th>Record de créditos</th>
        <th>% de rendimiento</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-ranking>
      <tr>
        <td>{{ ranking.posicion }}</td>
        <td>
          <img
            src="https://res.cloudinary.com/dxg5n5trm/image/upload/v1658518036/vw1fjkusksdepkf0jh3z.png"
            width="32"
            style="vertical-align: middle"
          />
          {{ ranking.nombreJugador }}
        </td>
        <td>{{ ranking.nacionalidad }}</td>
        <td>{{ ranking.totalCanjes }}</td>
        <td>{{ ranking.totalGanadas }}</td>
        <td>{{ ranking.totalPerdidas }}</td>
        <td>{{ ranking.recordNeto }}</td>
        <td>{{ ranking.rendimiento }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
